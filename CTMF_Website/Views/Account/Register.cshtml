@model CTMF_Website.Models.RegisterModel
@{
	ViewBag.Title = "Register";
	Layout = "~/Views/Shared/_Layout.cshtml";

	string register = "";

	try
	{
		register = Session["register"].ToString();
		Session.Remove("register");
	}
	catch (Exception ex)
	{
		register = "";
	}
}
<script src="~/Scripts/md5.js"></script>
<script>
	var message = '@Html.Raw(register)';
	if (message != '') {
		alert(message);
	}

	function GeneratePwd() {
		if ($("#id_register_password").val() !== "" && $("#id_register_password_confirmation").val() !== "") {
			$("#id_register_password").val(hex_md5($("#id_register_password").val()));
			$("#id_register_password_confirmation").val(hex_md5($("#id_register_password_confirmation").val()));
		}
		return true;
	}
</script>

<div class="container container-fix">
	<div style="float: right;width: 250px;margin-top: 40px;">
		<span style="color:red">* </span><b>: thông tin bắt buộc</b>
		<br />
		<p><b>Tên đăng nhập</b>: chỉ chứa số, chữ. Không được bắt đầu bằng số.</p>
	</div>
	@using (Html.BeginForm("Register", "Account", FormMethod.Post, new { @class = "form-horizontal", @id = "contact_form" }))
	{
		@*<form class="form-horizontal" role="form" method="post" id="register-form-inner" onsubmit="return GeneratePwd()" action="/Account/Register">*@
		<fieldset>
			<legend class="title">Đăng ký thành viên</legend>
			@Html.AntiForgeryToken()
			@Html.ValidationSummary(true, String.Empty, new { @style = "color:red" })

			<div class="form-group">
				<label class="col-md-4 control-label">Tên đăng nhập <span style="color:red">*</span></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
						@Html.TextBoxFor(m => m.Username, new { @class = "form-control", @placeholder = "Tên đăng nhập" })
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						@Html.ValidationMessageFor(model => model.Username, String.Empty, new { @style = "color:red" })
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Mật khẩu <span style="color:red">*</span></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
						@Html.PasswordFor(m => m.Password, new { @class = "form-control", @placeholder = "Mật khẩu", @id = "id_register_password" })
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						@Html.ValidationMessageFor(model => model.Password, String.Empty, new { @style = "color:red" })
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Nhập lại mật khẩu <span style="color:red">*</span></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
						@Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", @placeholder = "Nhập lại mật khẩu", @id = "id_register_password_confirmation" })
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						@Html.ValidationMessageFor(model => model.ConfirmPassword, String.Empty, new { @style = "color:red" })
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">E-Mail</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
						@Html.TextBoxFor(m => m.Email, new { @class = "form-control", @placeholder = "E-Mail" })
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						@Html.ValidationMessageFor(model => model.Email, String.Empty, new { @style = "color:red" })
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label">Họ Tên</label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
						@Html.TextBoxFor(m => m.Name, new { @class = "form-control", @placeholder = "Họ tên" })
					</div>
				</div>
			</div>
			<div class="form-group">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-4 inputGroupContainer">
					<div class="input-group">
						@Html.ValidationMessageFor(model => model.Name, String.Empty, new { @style = "color:red" })
					</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-md-4 control-label"></label>
				<div class="col-md-2">
					<button type="submit" id="register-submit" class="btn btn-warning">Đăng ký <span class="glyphicon glyphicon-send"></span></button>
				</div>
				<div class="col-md-2">
					<a href="~/Home/HomePage" class="btn btn-danger">Hủy</a>
				</div>
			</div>
		</fieldset>
		@*</form>*@
	}
</div>